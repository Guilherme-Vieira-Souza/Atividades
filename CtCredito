public class CtCredito {
    
    private double limite;
    private double fatura;
    private double cashbackAcumulado;


    public CtCredito(double limite) {
        this.limite = limite; 
    
}
    public CtCredito() {
        this.limite = consultarLimite(); 
        this.fatura = consultarLimite(); 
        this.cashbackAcumulado = 0.0; 
    } 
    public double consultarLimite() {
        return limite - fatura; 
    }

    public double getFatura() {
        return fatura;
    }

    public double getCashbackAcumulado() {
        return cashbackAcumulado;
    }

    public void realizarCompra(double valor) {
        if (valor <= (limite - fatura)) {
            fatura += valor;
            double cashback = valor * 0.05; 
            cashbackAcumulado += cashback;
            System.out.println("Compra de R$" + valor + " realizada com sucesso! Cashback acumulado: R$" + cashback);
        } else {
            System.err.println("Compra não autorizada! Limite insuficiente.");
        }
    }

    public void aplicarCashbackNaFatura() {
        if (cashbackAcumulado > 0) {
            fatura -= cashbackAcumulado;
            if (fatura < 0) {
                fatura = 0;
            }
            System.out.println("Cashback de R$" + cashbackAcumulado + " aplicado na fatura.");
            cashbackAcumulado = 0; 
        } else {
            System.out.println("Não há cashback disponível para aplicar.");
        }
    }
}
